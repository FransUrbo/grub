From c79d05703ec41571c44a0a09df31cf220d951c09 Mon Sep 17 00:00:00 2001
From: Colin Watson <cjwatson@debian.org>
Date: Mon, 13 Jan 2014 12:12:50 +0000
Subject: Hack prefix for OLPC

This sucks, but it's better than what OFW was giving us.

Patch-Name: olpc_prefix_hack.patch
---
 grub-core/kern/ieee1275/init.c | 11 +++++++++++
 1 file changed, 11 insertions(+)

Index: grub/grub-core/kern/ieee1275/init.c
===================================================================
--- grub.orig/grub-core/kern/ieee1275/init.c	2014-11-16 18:44:06.276666405 +0100
+++ grub/grub-core/kern/ieee1275/init.c	2015-02-05 16:14:21.540815817 +0100
@@ -65,6 +65,7 @@
   grub_ieee1275_exit ();
 }
 
+#ifndef __i386__
 /* Translate an OF filesystem path (separated by backslashes), into a GRUB
    path (separated by forward slashes).  */
 static void
@@ -149,6 +150,7 @@
     }
   grub_free (bootpath);
 }
+#endif
 
 /* Claim some available memory in the first /memory node. */
 #ifdef __sparc__
