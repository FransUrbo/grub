# Bazaar merge directive format 2 (Bazaar 0.90)
# revision_id: address@hidden
# target_branch: http://bzr.savannah.gnu.org/r/grub/trunk/grub/
# testament_sha1: 1c14caf607a0200c0f6c4357baa520d6d5a0297b
# timestamp: 2012-07-04 17:30:47 +0200
# base_revision_id: address@hidden
# 
# Begin patch
=== modified file 'grub-core/gnulib/stdio.in.h'
--- a/grub-core/gnulib/stdio.in.h
+++ b/grub-core/gnulib/stdio.in.h
@@ -140,10 +140,12 @@
 /* It is very rare that the developer ever has full control of stdin,
    so any use of gets warrants an unconditional warning; besides, C11
    removed it.  */
+#if defined gets
 #undef gets
 #if HAVE_RAW_DECL_GETS
 _GL_WARN_ON_USE (gets, "gets is a security hole - use fgets instead");
 #endif
+#endif
 
 #if @GNULIB_FOPEN@
 # if @REPLACE_FOPEN@
